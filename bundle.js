(()=>{"use strict";var e={607:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkHorizontal=t.checkVertical=void 0;const r=s(l(378)),n=l(740),i=l(302),a=l(241),u=l(987);let c=document.querySelector(".wrapper"),o=document.querySelector("#size"),d=document.querySelector("#winseries"),v=document.querySelector("#figureCurrent"),f=document.querySelector("#step"),p=document.querySelector("#winZnak"),h=document.querySelector("#modalWin"),L=document.querySelector("#start"),V=new r.default(10,3);function x(e){e.forEach((e=>{let t=document.createElement("div");t.classList.add("flex"),e.forEach((e=>{let l=document.createElement("div");l.classList.add("border"),l.classList.add("w-8"),l.classList.add("h-8"),l.classList.add("text-xl"),l.classList.add("shrink-0"),l.classList.add("text-center"),l.classList.add("cursor-default"),l.classList.add("pt-0.5"),e.value===n.Values.VALUE_X&&(l.classList.add("text-blue-700"),l.innerText=e.value,l.classList.add("cursor-default")),e.value===n.Values.VALUE_0&&(l.classList.add("text-red-700"),l.innerText=e.value,l.classList.add("cursor-default")),e.value||(l.onclick=t=>function(e,t){let l=(0,a.getCurrentValue)(V.step);f.innerText=String(V.step+1),v.innerText=(0,a.getCurrentValue)(V.step+1),V.cells[t.x][t.y].value=l,e.target.innerText=l,l===n.Values.VALUE_X&&e.target.classList.add("text-blue-700"),l===n.Values.VALUE_0&&e.target.classList.add("text-red-700"),e.target.classList.add("pointer-events-none"),V.step++,function(e,t){S(e,t),_(e,t),function(e,t){let l=[],s=[],r=e.x,a=e.y;for(let e=-V.winSeries;e<V.winSeries;e++){let i=(0,u.getValueInCell)(V.cells,r,n.Operators.DEC,a,n.Operators.DEC,e,t),c=(0,u.getValueInCell)(V.cells,r,n.Operators.INC,a,n.Operators.DEC,e,t);l.push(i),s.push(c)}(0,i.countValues)(l,V.winSeries,t)&&g(t),(0,i.countValues)(s,V.winSeries,t)&&g(t)}(e,t)}(t,l)}(t,e),l.classList.add("text-gray-700"),l.classList.add("cursor-pointer"),l.classList.add("hover:bg-gray-200"),l.classList.add("hover:text-opacity-50")),t.appendChild(l)})),c.appendChild(t)}))}function S(e,t){let l=[],s=e.x-V.winSeries>=0?e.x-V.winSeries:0,r=e.x+V.winSeries>=V.cells.length?V.cells.length:e.x+V.winSeries;for(let t=s;t<r;t++)l.push(V.cells[t][e.y].value);return(0,i.countValues)(l,V.winSeries,t)?g(t):""}function _(e,t){let l=[],s=e.y-V.winSeries>0?e.y-V.winSeries:0,r=e.y+V.winSeries>=V.cells.length?V.cells.length:e.y+V.winSeries;for(let t=s;t<r;t++)l.push(V.cells[e.x][t].value);return(0,i.countValues)(l,V.winSeries,t)?g(t):""}function g(e){h.classList.remove("hidden"),p.innerText=e}V.initial(),o.value=String(V.size),d.value=String(V.winSeries),x(V.cells),t.checkVertical=S,t.checkHorizontal=_,o.addEventListener("input",(function(e){V.size=+o.value})),d.addEventListener("input",(function(){V.winSeries=+d.value})),L.addEventListener("click",(function(){let e=+o.value<3?3:+o.value>55?55:+o.value,t=+d.value<3?3:+d.value>e?e:+d.value;o.value=String(e),d.value=String(t),V=new r.default(e,t),V.initial(),c.innerHTML="",f.innerText="0",h.classList.add("hidden"),v.innerText="X",x(V.cells)}))},378:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialBord=void 0;const r=s(l(410));function n(e){let t=[];for(let l=0;l<e;l++){let s=[];for(let t=0;t<e;t++)s.push(new r.default(null,l,t));t.push(s)}return t}t.initialBord=n,t.default=class{constructor(e,t,l=0){this.cells=[],this.size=e,this.step=l,this.winSeries=t}initial(){let e=n(this.size);this.cells=e}}},410:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,l){this.x=t,this.y=l,this.value=null,this.id=Math.floor(1e4*Math.random())+1}}},740:(e,t)=>{var l,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Operators=t.Values=void 0,(s=t.Values||(t.Values={})).VALUE_X="X",s.VALUE_0="0",(l=t.Operators||(t.Operators={})).INC="+",l.DEC="-"},302:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.countValues=void 0,t.countValues=function(e,t,l){let s=0;for(let r=0;r<=e.length-1;r++){let n=e[r]===l?s+1:0;if(s=n,n===t)return!0}return!1}},241:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentValue=void 0;const s=l(740);t.getCurrentValue=function(e){return e%2?s.Values.VALUE_0:s.Values.VALUE_X}},987:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getValueInCell=void 0;const s=l(740);t.getValueInCell=function(e,t,l,r,n,i,a){let u=l===s.Operators.DEC?t-i:t+i,c=n===s.Operators.DEC?r-i:r+i,o=u>=0,d=c>=0,v=u<e.length,f=c<e.length;return o&&d&&v&&f&&e[u][c].value===a?e[u][c].value:null}}},t={};!function l(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,l),n.exports}(607)})();