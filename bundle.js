(()=>{"use strict";var e={607:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkHorizontal=t.checkVertical=void 0;const r=s(l(378)),n=l(740),i=l(302),a=l(241),u=l(987);let o=document.querySelector(".wrapper"),c=document.querySelector("#size"),d=document.querySelector("#winseries"),f=document.querySelector("#figureCurrent"),v=document.querySelector("#step"),p=document.querySelector("#winZnak"),h=document.querySelector("#modalWin"),g=document.querySelector("#start"),S=new r.default(10,3);if(S.initial(),null!==localStorage.getItem("board")){let e=JSON.parse(localStorage.getItem("board"));console.log(e),S=Object.assign({},e)}function L(e){e.forEach((e=>{let t=document.createElement("div");t.classList.add("flex"),e.forEach((e=>{let l=document.createElement("div");l.classList.add("border"),l.classList.add("w-8"),l.classList.add("h-8"),l.classList.add("text-xl"),l.classList.add("shrink-0"),l.classList.add("text-center"),l.classList.add("cursor-default"),l.classList.add("pt-0.5"),e.value===n.Values.VALUE_X&&(l.classList.add("text-blue-700"),l.innerText=e.value,l.classList.add("cursor-default")),e.value===n.Values.VALUE_0&&(l.classList.add("text-red-700"),l.innerText=e.value,l.classList.add("cursor-default")),e.value||(l.onclick=t=>function(e,t){let l=(0,a.getCurrentValue)(S.step);v.innerText=String(S.step+1),f.innerText=(0,a.getCurrentValue)(S.step+1),S.cells[t.x][t.y].value=l,e.target.innerText=l,l===n.Values.VALUE_X&&e.target.classList.add("text-blue-700"),l===n.Values.VALUE_0&&e.target.classList.add("text-red-700"),e.target.classList.add("pointer-events-none"),S.step++,localStorage.setItem("board",JSON.stringify(S)),function(e,t){V(e,t),x(e,t),function(e,t){let l=[],s=[],r=e.x,a=e.y;for(let e=-S.winSeries;e<S.winSeries;e++){let i=(0,u.getValueInCell)(S.cells,r,n.Operators.DEC,a,n.Operators.DEC,e,t),o=(0,u.getValueInCell)(S.cells,r,n.Operators.INC,a,n.Operators.DEC,e,t);l.push(i),s.push(o)}(0,i.countValues)(l,S.winSeries,t)&&_(t),(0,i.countValues)(s,S.winSeries,t)&&_(t)}(e,t)}(t,l)}(t,e),l.classList.add("text-gray-700"),l.classList.add("cursor-pointer"),l.classList.add("hover:bg-gray-200"),l.classList.add("hover:text-opacity-50")),t.appendChild(l)})),o.appendChild(t)})),v.innerText=String(S.step),f.innerText=(0,a.getCurrentValue)(S.step+1)}function V(e,t){let l=[],s=e.x-S.winSeries>=0?e.x-S.winSeries:0,r=e.x+S.winSeries>=S.cells.length?S.cells.length:e.x+S.winSeries;for(let t=s;t<r;t++)l.push(S.cells[t][e.y].value);return(0,i.countValues)(l,S.winSeries,t)?_(t):""}function x(e,t){let l=[],s=e.y-S.winSeries>0?e.y-S.winSeries:0,r=e.y+S.winSeries>=S.cells.length?S.cells.length:e.y+S.winSeries;for(let t=s;t<r;t++)l.push(S.cells[e.x][t].value);return(0,i.countValues)(l,S.winSeries,t)?_(t):""}function _(e){h.classList.remove("hidden"),p.innerText=e,localStorage.removeItem("board")}c.value=String(S.size),d.value=String(S.winSeries),L(S.cells),t.checkVertical=V,t.checkHorizontal=x,c.addEventListener("input",(function(e){S.size=+c.value})),d.addEventListener("input",(function(){S.winSeries=+d.value})),g.addEventListener("click",(function(){let e=+c.value<3?3:+c.value>55?55:+c.value,t=+d.value<3?3:+d.value>e?e:+d.value;c.value=String(e),d.value=String(t),S=new r.default(e,t),S.initial(),o.innerHTML="",h.classList.add("hidden"),v.innerText=String(S.step),f.innerText="X",L(S.cells)}))},378:function(e,t,l){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialBord=void 0;const r=s(l(410));function n(e){let t=[];for(let l=0;l<e;l++){let s=[];for(let t=0;t<e;t++)s.push(new r.default(null,l,t));t.push(s)}return t}t.initialBord=n,t.default=class{constructor(e,t,l=0){this.cells=[],this.size=e,this.step=l,this.winSeries=t}initial(){let e=n(this.size);this.cells=e}}},410:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,l){this.x=t,this.y=l,this.value=null,this.id=Math.floor(1e4*Math.random())+1}}},740:(e,t)=>{var l,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Operators=t.Values=void 0,(s=t.Values||(t.Values={})).VALUE_X="X",s.VALUE_0="0",(l=t.Operators||(t.Operators={})).INC="+",l.DEC="-"},302:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.countValues=void 0,t.countValues=function(e,t,l){let s=0;for(let r=0;r<=e.length-1;r++){let n=e[r]===l?s+1:0;if(s=n,n===t)return!0}return!1}},241:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentValue=void 0;const s=l(740);t.getCurrentValue=function(e){return e%2?s.Values.VALUE_0:s.Values.VALUE_X}},987:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getValueInCell=void 0;const s=l(740);t.getValueInCell=function(e,t,l,r,n,i,a){let u=l===s.Operators.DEC?t-i:t+i,o=n===s.Operators.DEC?r-i:r+i,c=u>=0,d=o>=0,f=u<e.length,v=o<e.length;return c&&d&&f&&v&&e[u][o].value===a?e[u][o].value:null}}},t={};!function l(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,l),n.exports}(607)})();